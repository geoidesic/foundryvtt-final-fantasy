{"version":3,"file":"ModifierDialog-e0c15f86.js","sources":["src/components/molecules/StarRating.svelte","src/components/organisms/dialogs/ModifierDialog.svelte"],"sourcesContent":["<script>\n  import { createEventDispatcher } from 'svelte';\n\n  export let maxStars = 5;\n  export let icon = 'fas fa-star';\n  export let value = 0;\n  export let label = '';\n  export let activeColor = '#ffd700';\n\n  let hoverValue = 0;\n  const dispatch = createEventDispatcher();\n\n  function handleMouseOver(index) {\n    hoverValue = index + 1;\n  }\n\n  function handleMouseLeave() {\n    hoverValue = 0;\n  }\n\n  function handleClick(index) {\n    value = index + 1;\n    dispatch('change', value);\n  }\n\n  $: stars = Array(maxStars).fill(0).map((_, i) => ({\n    active: hoverValue ? i < hoverValue : i < value\n  }));\n</script>\n\n<div class=\"star-rating\" on:mouseleave={handleMouseLeave}>\n  {#if label}\n    <label>{label}</label>\n  {/if}\n  <div class=\"stars\">\n    {#each stars as star, i}\n      <i\n        class=\"{icon} {star.active ? 'active' : ''}\"\n        on:mouseover={() => handleMouseOver(i)}\n        on:click={() => handleClick(i)}\n        role=\"button\"\n        tabindex=\"0\"\n        style=\"--active-color: {activeColor}\"\n      ></i>\n    {/each}\n  </div>\n</div>\n\n<style lang=\"sass\">\n  .star-rating\n    display: flex\n    flex-direction: column\n    gap: 0.5rem\n\n  .stars\n    display: flex\n    gap: 0.25rem\n\n  i\n    cursor: pointer\n    color: #666\n    transition: color 0.2s ease\n    font-size: 1.2rem\n\n    &.active\n      color: var(--active-color)\n\n    &:hover\n      transform: scale(1.1)\n</style> ","<script>\n  import StarRating from '~/src/components/molecules/StarRating.svelte';\n  import { localize } from '~/src/helpers/util';\n  \n  export let penalty = 0;\n  export let bonusDice = 0;\n  export let mutuallyExclusive = false;\n\n  // Make the state accessible to the parent dialog\n  $: if (window._modifierDialogComponent) {\n    window._modifierDialogComponent._state = { penalty, bonusDice };\n  }\n\n  function handlePenaltyChange(value) {\n    penalty = value;\n    if (mutuallyExclusive && value > 0) bonusDice = 0;\n  }\n\n  function handleBonusChange(value) {\n    bonusDice = value;\n    if (mutuallyExclusive && value > 0) penalty = 0;\n  }\n</script>\n\n<template lang=\"pug\">\nform.modifier-dialog\n  .flexrow.gap-15\n    .flex1\n      .flexcol\n        svelte:component(\n          this=\"{StarRating}\"\n          label=\"{localize('Modifiers.Penalty')}\"\n          value=\"{penalty}\"\n          on:change!=\"{e => handlePenaltyChange(e.detail)}\"\n          maxStars=\"{7}\"\n          icon=\"fas fa-burst\"\n          activeColor=\"var(--color-negative)\"\n        )\n    .flex1\n      .flexcol\n        svelte:component(\n          this=\"{StarRating}\"\n          label=\"{localize('Modifiers.Advantage')}\"\n          value=\"{bonusDice}\"\n          on:change!=\"{e => handleBonusChange(e.detail)}\"\n          maxStars=\"{7}\"\n          icon=\"fas fa-dice-d20\"\n          activeColor=\"var(--ff-border-color)\"\n        )\n</template>\n\n<style lang=\"sass\">\n  .modifier-dialog\n    padding: 1rem\n</style> "],"names":["ctx"],"mappings":"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"}